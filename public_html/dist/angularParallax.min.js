!function(){"use strict";var n="<div><ng-transclude></ng-transclude></div>",t="<div class='skParallaxAnim'><ng-transclude></ng-transclude></div>",i=function(n,t,i){return t&&i?null===n?null:n>i?100:n<t?0:100*(n-t)/(i-t):n},e=function(n){var t=$(window).height(),i=$(window).scrollTop(),e=i+t,a=$(n),o=a.outerHeight(),r=a.offset().top,s=r+o,l=s-r,c=e-r,u=100*c/l;return(u<0||u>100)&&(u=null),u},a={fadeIn:function(n,t){null!==t?(t/=100,n.css("opacity",t)):n.css("opacity",1)},sideLeft:function(n,t){var i=n.width();null!==t?(t=-i+i*t/100,n.css("position","relative"),n.css("left",t)):n.css("left",0)},sideRight:function(n,t){var i=n.width();null!==t?(t=-i+i*t/100,n.css("position","relative"),n.css("right",t)):n.css("right",0)},sideBottom:function(n,t){var i=n.height();null!==t?(t=-i+i*t/100,n.css("position","relative"),n.css("bottom",t)):n.css("bottom",0)},rotate:function(n,t){var i;null!==t?(i=30*t/100-30,t/=100,n.css("opacity",t)):(i=0,n.css("opacity",1)),n.css("transform","rotate("+i+"deg)")}},o=function(n){var t=$(window).height(),i=$(window).scrollTop(),e=i+t,a=$(n),o=a.outerHeight(),r=a.offset().top,s=r+o;return s>=i&&r<=e?(a.addClass("in-view"),!0):(a.removeClass("in-view"),!1)},r=["$window","$parse",function(n,t){return{restrict:"A",require:"^^skParallaxAnim",scope:{animation:"@skAnimation",animationComplex:"&skAnimationComplex",animationStart:"@skAnimationStart",animationEnd:"@skAnimationEnd"},link:function(t,e,o,r){var s=$(e);s.addClass("parallax-element"),angular.element(n).bind("scroll",function(){t.$apply(function(){var n=r.position();n=i(n,t.animationStart,t.animationEnd),t.animation?a[t.animation](s,n):t.animationComplex()(e,n)})})}}}],s=["$window",function(n){return{restrict:"E",template:t,replace:!0,transclude:!0,link:function(n,t,i){},controller:["$scope","$element",function(n,t){n.isInsideView=o,this.position=function(){return e(t)},this.height=angular.element(t).height()}]}}],l=function(){return{restrict:"E",template:n,transclude:!0,replace:!0,link:function(n,t,i){var t=$(t),e=i.width||"100%",a=i.height||"500px";if(!i.image)throw"Se debe definir la imagen";t.css({backgroundImage:"url("+i.image+")",backgroundRepeat:"no-repeat",width:e,height:a,backgroundSize:"cover",backgroundAttachment:"fixed"})}}},c=angular.module("angularParallax",[]);c.directive("skParallax",l),c.directive("skParallaxAnim",s),c.directive("skParallaxElement",r)}();