!function(){"use strict";var n="<div><ng-transclude></ng-transclude></div>",i="<div class='skParallaxAnim'><ng-transclude></ng-transclude></div>",t=function(n,i,t){return i&&t?null===n?null:n>t?100:n<i?0:100*(n-i)/(t-i):n},e=function(n){var i=$(window).height(),t=$(window).scrollTop(),e=t+i,a=$(n),o=a.outerHeight(),r=a.offset().top,l=r+o,s=l-r,c=e-r,u=100*c/s;return(u<0||u>100)&&(u=null),u},a={fadeIn:function(n,i){null!==i?(i/=100,n.css("opacity",i)):n.css("opacity",1)},sideLeft:function(n,i){var t=n.width();null!==i?(i=-t+t*i/100,n.css("position","relative"),n.css("left",i)):n.css("left",0)},sideRight:function(n,i){var t=n.width();null!==i?(i=-t+t*i/100,n.css("position","relative"),n.css("right",i)):n.css("right",0)},sideBottom:function(n,i){var t=n.height();null!==i?(i=-t+t*i/100,n.css("position","relative"),n.css("bottom",i)):n.css("bottom",0)}},o=function(n){var i=$(window).height(),t=$(window).scrollTop(),e=t+i,a=$(n),o=a.outerHeight(),r=a.offset().top,l=r+o;return l>=t&&r<=e?(a.addClass("in-view"),!0):(a.removeClass("in-view"),!1)},r=["$window","$parse",function(n,i){return{restrict:"A",require:"^^skParallaxAnim",scope:{animation:"@skAnimation",animationComplex:"&skAnimationComplex",animationStart:"@skAnimationStart",animationEnd:"@skAnimationEnd"},link:function(i,e,o,r){var l=$(e);l.addClass("parallax-element"),angular.element(n).bind("scroll",function(){i.$apply(function(){var n=r.position();n=t(n,i.animationStart,i.animationEnd),i.animation?a[i.animation](l,n):i.animationComplex()(e,n)})})}}}],l=["$window",function(n){return{restrict:"E",template:i,replace:!0,transclude:!0,link:function(n,i,t){},controller:["$scope","$element",function(n,i){n.isInsideView=o,this.position=function(){return e(i)},this.height=angular.element(i).height()}]}}],s=function(){return{restrict:"E",template:n,transclude:!0,replace:!0,link:function(n,i,t){var i=$(i),e=t.width||"100%",a=t.height||"500px";if(!t.image)throw"Se debe definir la imagen";i.css({backgroundImage:"url("+t.image+")",backgroundRepeat:"no-repeat",width:e,height:a,backgroundSize:"cover",backgroundAttachment:"fixed"})}}},c=angular.module("angularParallax",[]);c.directive("skParallax",s),c.directive("skParallaxAnim",l),c.directive("skParallaxElement",r)}();